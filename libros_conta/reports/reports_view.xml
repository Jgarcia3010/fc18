<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <record id="search_libro_ventas" model="ir.ui.view">
            <field name="name">libros_conta.search_libros</field>
            <field name="model">account.invoice.libroventas</field>
            <field name="arch" type="xml">
                <search string="Invoices Analysis">
                    <filter string="Facturas" name="invoice" domain="['|', ('move_type','=','out_invoice'),('move_type','=','in_invoice')]"/>
                    <filter string="Notas de Crédito" name="creditnote" domain="['|', ('move_type','=','out_refund'),('move_type','=','in_refund')]"/>
                    <separator/>
                    <filter name="date" date="date"/>
                    <field name="partner_id" operator="child_of"/>
                    <group expand="1" string="Group By">
                        <filter string="Partner" name="partner_id" context="{'group_by':'partner_id','residual_visible':True}"/>
                        <filter string="Company" name="company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                        <separator orientation="vertical" />
                        <filter string="Date" name="month" context="{'group_by':'date:month'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="search_libro_compras" model="ir.ui.view">
            <field name="name">libros_conta.search_libros</field>
            <field name="model">account.invoice.librocompras</field>
            <field name="arch" type="xml">
                <search string="Invoices Analysis">
                    <filter string="Facturas" name="invoice" domain="['|', ('move_type','=','out_invoice'),('move_type','=','in_invoice')]"/>
                    <filter string="Notas de Crédito" name="creditnote" domain="['|', ('move_type','=','out_refund'),('move_type','=','in_refund')]"/>
                    <separator/>
                    <filter name="date" date="filter_date"/>
                    <field name="partner_id" operator="child_of"/>
                    <group expand="1" string="Group By">
                        <filter string="Partner" name="partner_id" context="{'group_by':'partner_id','residual_visible':True}"/>
                        <filter string="Company" name="company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                        <separator orientation="vertical" />
                        <filter string="Date" name="month" context="{'group_by':'filter_date:month'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="view_account_invoice_libroventas_tree" model="ir.ui.view">
            <field name="name">account.invoice.libroventas.tree</field>
            <field name="model">account.invoice.libroventas</field>
            <field name="arch" type="xml">
                <list create="false" edit="false" sample="1" js_class="libros_list_view">
                    <field name="vat" />
                    <field name="partner_id" />
                    <field name="move_id" />
                    <field name="serie" />
                    <field name="factura" />
                    <field name="date" />
                    <field name="move_type" />
                    <field name="mbase" sum="mbase"/>
                    <field name="mimpuestos" sum="mimpuestos"/>
                    <field name="sbase" sum="sbase"/>
                    <field name="simpuestos" sum="simpuestos"/>
                    <field name="exportation" />
                    <field name="total" />
                </list>
            </field>
        </record>

        <record id="view_account_invoice_librocompras_tree" model="ir.ui.view">
            <field name="name">account.invoice.librocompras.tree</field>
            <field name="model">account.invoice.librocompras</field>
            <field name="arch" type="xml">
                <list string="Líneas" create="false" edit="false" sample="1"  js_class="libros_list_view">
                    <field name="move_id" />
                    <field name="vat" />
                    <field name="partner_id" />
                    <field name="move_type" />
                    <field name="serie" />
                    <field name="factura" />
                    <field name="date" />
                    <field name="filter_date" invisible="1" />
                    <field name="mbase" sum="mbase"/>
                    <field name="mimpuestos" sum="mimpuestos"/>
                    <field name="sbase" sum="sbase"/>
                    <field name="simpuestos" sum="simpuestos"/>
                    <field name="mpcbase" sum="mpcbase"/>
                    <field name="mpcimpuestos" sum="mpcimpuestos"/>
                    <field name="spcbase" sum="spcbase"/>
                    <field name="spcimpuestos" sum="spcimpuestos"/>
                    <field name="importation" />
                    <field name="total" />
                </list>
            </field>
        </record>

        <record id="libro_ventas_action" model="ir.actions.act_window">
            <field name="name">Libro de Ventas</field>
            <field name="res_model">account.invoice.libroventas</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="help">Libro de ventas.</field>
            <field name="search_view_id" ref="search_libro_ventas" />
        </record>

        <record id="libro_compras_action" model="ir.actions.act_window">
            <field name="name">Libro de Compras</field>
            <field name="res_model">account.invoice.librocompras</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="help">Libro de compras.</field>
            <field name="search_view_id" ref="search_libro_compras" />
        </record>

        <menuitem id="libro_de_ventas_menu" name="Libro de Ventas" sequence="10" action="libro_ventas_action" parent="account.menu_finance_reports"/>
        <menuitem id="libro_de_compras_menu" name="Libro de Compras" sequence="10" action="libro_compras_action" parent="account.menu_finance_reports"/>

        <record id="search_costos" model="ir.ui.view">
            <field name="name">libros_conta.search_costos</field>
            <field name="model">libros_conta.costos</field>
            <field name="arch" type="xml">
                <search string="Buscar Costos">
                    <filter name="fecha" date="fecha"/>
                    <field name="partner" string="Proveedor" operator="child_of"/>
                    <field string="Proyecto" name="analytic_account" />
                    <group expand="1" string="Group By">
                        <filter string="Proveedor" name="partner" context="{'group_by':'partner','residual_visible':True}" />
                        <filter string="Mes" name="month" context="{'group_by':'fecha:month'}" />
                        <filter string="Proyecto" name="analytic_account" context="{'group_by':'analytic_account','residual_visible':True}" />
                    </group>
                </search>
            </field>
        </record>

        <record id="view_libros_conta_costos_tree" model="ir.ui.view">
            <field name="name">libros_conta.costos.tree</field>
            <field name="model">libros_conta.costos</field>
            <field name="arch" type="xml">
              <list create="false" edit="false">
                <field name="analytic_account" />
                <field name="order_id" />
                <field name="move" string="Caja chica" />
                <field name="user_id" />
                <field name="partner" />
                <field name="vat" />
                <field name="fecha" />
                <field name="product" />
                <field name="description" />
                <field name="quantity" />
                <field name="unitprice" />
                <field name="total" sum="total"/>
              </list>
            </field>
        </record>

        <record id="costos_action" model="ir.actions.act_window">
            <field name="name">Costos (orden de compra)</field>
            <field name="res_model">libros_conta.costos</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="search_costos" />
        </record>
        <menuitem id="libro_costos_menu" name="Costos (orden de compra)" sequence="14" action="costos_action" parent="account.menu_finance_reports" />

        <record id="view_libros_conta_costos_facturas_tree" model="ir.ui.view">
            <field name="name">libros_conta.costos_facturas.tree</field>
            <field name="model">libros_conta.costos_facturas</field>
            <field name="arch" type="xml">
              <list create="false" edit="false">
                <field name="analytic_account" />
                <field name="move" string="Caja chica" />
                <field name="partner" />
                <field name="vat" />
                <field name="fecha" />
                <field name="product" />
                <field name="description" />
                <field name="quantity" />
                <field name="unitprice" />
                <field name="total" sum="total"/>
              </list>
            </field>
        </record>

        <record id="costos_facturas_action" model="ir.actions.act_window">
            <field name="name">Costos (factura)</field>
            <field name="res_model">libros_conta.costos_facturas</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="search_costos" />
        </record>
        <menuitem id="libro_costos_facturas_menu" name="Costos (factura)" sequence="15" action="costos_facturas_action" parent="account.menu_finance_reports" />

    </data>
</odoo>